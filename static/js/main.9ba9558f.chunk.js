(this["webpackJsonpnews-search"]=this["webpackJsonpnews-search"]||[]).push([[0],{61:function(e,t,a){e.exports=a(77)},71:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);a(62);var n=a(0),r=a.n(n),c=a(20),l=a.n(c),s=a(12),o=a(59),i=a(48),u=a(60),m=a(32),p=a(51),h=a(6),E=a(27),f=a.n(E),b=a(34),d=a(41),w=a(39),g=a(16),y=a(40),j=a(38),v=a(37),O=a(23),k=a(35),N=function(e){var t=e.article,a=new Date(t.publishedAt),c=Object(n.useState)(!1),l=Object(s.a)(c,2),o=l[0],i=l[1],u=Object(n.useCallback)((function(){i(!0)}),[]);return r.a.createElement(k.a,{sm:12,md:3,className:"mb-4 "+(o?"d-none":"")},r.a.createElement(O.a,{className:"h-100"},r.a.createElement(O.a.Img,{variant:"top",src:t.urlToImage}),r.a.createElement(O.a.Body,null,r.a.createElement(O.a.Title,null,r.a.createElement("a",{href:t.url},t.title)),r.a.createElement(O.a.Text,{className:"text-body"},t.description)),r.a.createElement(O.a.Footer,{className:"d-flex align-items-center justify-content-between"},r.a.createElement("small",{className:"w-50 text-muted"},a.toString()),r.a.createElement(v.a,{variant:"outline-secondary",onClick:u},"Hide Article"))))},x=function(e){var t=e.query,a=Object(n.useState)(1),c=Object(s.a)(a,2),l=c[0],o=c[1],i=Object(n.useState)(!1),u=Object(s.a)(i,2),m=u[0],p=u[1],h=Object(n.useState)({}),E=Object(s.a)(h,2),v=E[0],O=E[1],k=Object(n.useCallback)((function(){o(l+1),window.scrollTo(0,0)}),[l]),x=Object(n.useCallback)((function(){o(l-1),window.scrollTo(0,0)}),[l]);function C(){return(C=Object(b.a)(f.a.mark((function e(t,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://cors-anywhere.herokuapp.com/",e.next=3,fetch("".concat("https://cors-anywhere.herokuapp.com/","https://newsapi.org/v2/everything?q=").concat(t,"&page=").concat(a),{headers:{"X-Api-Key":"803fdd9b8517490d89d8c85ade466b8d"}});case 3:e.sent.json().then((function(e){O(e)})).catch((function(e){return p(e)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){t&&function(e,t){C.apply(this,arguments)}(t,l)}),[t,l]),v||m?r.a.createElement(w.a,{fluid:!0},r.a.createElement(y.a,{className:"justify-content-center"},m?r.a.createElement("span",null,"Error : ",JSON.stringify(m)):v.articles?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"mb-3"},"Freshest news for your query : ",t),r.a.createElement(d.a,null,v.articles.map((function(e,t){return r.a.createElement(N,{article:e,key:t})}))),r.a.createElement(g.a,null,l>1&&r.a.createElement(g.a.Prev,{onClick:x}),r.a.createElement(g.a.Item,{disabled:!0},"Page ",l),r.a.createElement(g.a.Next,{onClick:k}))):r.a.createElement("h1",null,"Use the search bar to find news !"))):r.a.createElement(j.a,{animation:"grow"})},C=a(28),S=a(53),A=function(e){var t=e.query,a=Object(n.useState)("us"),c=Object(s.a)(a,2),l=c[0],o=c[1],i=Object(n.useState)(1),u=Object(s.a)(i,2),m=u[0],p=u[1],h=Object(n.useState)(!1),E=Object(s.a)(h,2),v=E[0],O=E[1],k=Object(n.useState)({}),x=Object(s.a)(k,2),A=x[0],T=x[1],q=Object(n.useState)("Latest"),I=Object(s.a)(q,2),D=I[0],z=I[1],K=Object(n.useCallback)((function(){p(m+1),window.scrollTo(0,0)}),[m]),B=Object(n.useCallback)((function(){p(m-1),window.scrollTo(0,0)}),[m]);function F(){return(F=Object(b.a)(f.a.mark((function e(t,a,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://cors-anywhere.herokuapp.com/",e.next=3,fetch("".concat("https://cors-anywhere.herokuapp.com/","https://newsapi.org/v2/top-headlines?q=").concat(t,"&country=").concat(a,"&page=").concat(n),{headers:{"X-Api-Key":"803fdd9b8517490d89d8c85ade466b8d"}});case 3:e.sent.json().then((function(e){return T(e)})).catch((function(e){return O(e)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(e,t,a){F.apply(this,arguments)}(t,l,m)}),[t,l,m]),A||v?r.a.createElement(w.a,{fluid:!0},r.a.createElement(y.a,{className:"justify-content-center"},v?r.a.createElement("span",null,"Error : ",JSON.stringify(v)):A.articles&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"mb-3 d-flex"},r.a.createElement(S.a,{size:"lg",variant:"outline-light",title:D,className:"d-flex mr-3"},r.a.createElement(C.a.Item,{eventKey:"Latest",onClick:function(){return z("Latest")}},"Latest"),r.a.createElement(C.a.Item,{eventKey:"Earlier",onClick:function(){return z("Earlier")}},"Earlier")),r.a.createElement("span",{className:"mr-3"},"top news for "),r.a.createElement(S.a,{variant:"outline-light",size:"lg",title:l.toUpperCase(),className:"d-flex"},["all","ae","ar","at","au","be","bg","br","ca","ch","cn","co","cu","cz","de","eg","fr","gb","gr","hk","hu","id","ie","il","in","it","jp","kr","lt","lv","ma","mx","my","ng","nl","no","nz","ph","pl","pt","ro","rs","ru","sa","se","sg","si","sk","th","tr","tw","ua","us","ve","za"].map((function(e,t){return r.a.createElement(C.a.Item,{eventKey:t,key:t,onClick:function(){return o(e)}},e.toUpperCase())}))),t&&r.a.createElement("span",{className:"ml-3"},"and query : ",t)),r.a.createElement(d.a,null,"Earlier"===D?A.articles.sort((function(e,t){return Date.parse(e.publishedAt)-Date.parse(t.publishedAt)})).map((function(e,t){return r.a.createElement(N,{article:e,key:t})})):A.articles.sort((function(e,t){return Date.parse(t.publishedAt)-Date.parse(e.publishedAt)})).map((function(e,t){return r.a.createElement(N,{article:e,key:t})}))),r.a.createElement(g.a,null,m>1&&r.a.createElement(g.a.Prev,{onClick:B}),r.a.createElement(g.a.Item,{disabled:!0},"Page ",m),r.a.createElement(g.a.Next,{onClick:K}))))):r.a.createElement(j.a,{animation:"grow"})};a(71);var T=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1];return r.a.createElement(p.a,{basename:"/news-search"},r.a.createElement("div",{className:"App"},r.a.createElement(m.a,{expand:"md",className:"justify-content-between"},r.a.createElement(m.a.Brand,null,r.a.createElement(p.b,{to:"/",className:"text-decoration-none text-light"},"News search")),r.a.createElement(m.a.Toggle,{"aria-controls":"navbar-navigation"}),r.a.createElement(m.a.Collapse,{id:"navbar-navigation"},r.a.createElement(u.a,{className:"mr-auto"},r.a.createElement(p.b,{to:"/top-news",className:"text-light"},"Top news")),r.a.createElement(o.a,{inline:!0,onSubmit:function(e){e.preventDefault()}},r.a.createElement(i.a,{type:"text",className:"w-100",placeholder:"Search here...",value:a,onChange:function(e){return c(e.target.value)}})))),r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/"},r.a.createElement(x,{query:a})),r.a.createElement(h.a,{path:"/top-news"},r.a.createElement(A,{query:a})))))};a(76),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[61,1,2]]]);
//# sourceMappingURL=main.9ba9558f.chunk.js.map